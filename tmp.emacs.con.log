>$ irb1.9
irb(main):001:0> def m1 (opts={}); {:k1=>'d1', :k2=>'d2'} .merge! opts; end
=> nil

irb(main):002:0> def m1 (opts={}); {:k1=>'d1', :k2=>'d2'} .merge! opts; puts "#{k1}"; end
=> nil

irb(main):004:0> m1 k1=123
TypeError: can't convert Fixnum into Hash
        from (irb):2:in `merge!'
        from (irb):2:in `m1'
        from (irb):4
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):005:0> m1 k1=>123
NameError: undefined local variable or method `k1' for main:Object
        from (irb):2:in `m1'
        from (irb):5
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):006:0> def m1 (opts={}); {:k1=>'d1', :k2=>'d2'} .merge! opts; puts "#{opts[k1]}"; end
=> nil

irb(main):007:0> m1 k1=>123
NameError: undefined local variable or method `k1' for main:Object
        from (irb):6:in `m1'
        from (irb):7
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):008:0> m1 (k1=123)
TypeError: can't convert Fixnum into Hash
        from (irb):6:in `merge!'
        from (irb):6:in `m1'
        from (irb):8
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):009:0> def m1 (opts={}); opts .merge! {:k1=>'d1', :k2=>'d2'}; puts "#{opts[k1]}"; end
SyntaxError: (irb):9: syntax error, unexpected tASSOC, expecting '}'
... (opts={}); opts .merge! {:k1=>'d1', :k2=>'d2'}; puts "#{opt...
...                               ^
(irb):9: syntax error, unexpected ',', expecting '}'
...s={}); opts .merge! {:k1=>'d1', :k2=>'d2'}; puts "#{opts[k1]...
...                               ^
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):010:0> def m1 (opts={}); opts .merge! (k1=>'d1', k2=>'d2'); puts "#{opts[k1]}"; end
=> nil

irb(main):011:0> m1 (k1=123)
NameError: undefined local variable or method `k1' for main:Object
        from (irb):10:in `m1'
        from (irb):11
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):012:0> m1 (k1=>123)
NameError: undefined local variable or method `k1' for main:Object
        from (irb):10:in `m1'
        from (irb):12
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):013:0> def m1 (opts={}); opts .merge! (k1=>'d1', k2=>'d2'); puts "k1:#{opts[:k1]}"; end
=> nil

irb(main):014:0> m1 (k1=>123)
NameError: undefined local variable or method `k1' for main:Object
        from (irb):13:in `m1'
        from (irb):14
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):015:0> m1 (k1=123)
NameError: undefined local variable or method `k1' for main:Object
        from (irb):13:in `m1'
        from (irb):15
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):016:0> m1 (:k1=>123)
NameError: undefined local variable or method `k1' for main:Object
        from (irb):13:in `m1'
        from (irb):16
        from /usr/bin/irb1.9:12:in `<main>'

irb(main):018:0> 